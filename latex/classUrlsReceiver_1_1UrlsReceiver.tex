\hypertarget{classUrlsReceiver_1_1UrlsReceiver}{}\section{Класс Urls\+Receiver.\+Urls\+Receiver}
\label{classUrlsReceiver_1_1UrlsReceiver}\index{Urls\+Receiver.\+Urls\+Receiver@{Urls\+Receiver.\+Urls\+Receiver}}


Получатель списка ссылок  


\subsection*{Открытые члены}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classUrlsReceiver_1_1UrlsReceiver_ae4ba1b935dce3bd30912583beca32aff}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classUrlsReceiver_1_1UrlsReceiver_a26ea003c345156c0e7cdeb49750b15f2}{main\+\_\+url})
\begin{DoxyCompactList}\small\item\em Конструктор \end{DoxyCompactList}\item 
def \hyperlink{classUrlsReceiver_1_1UrlsReceiver_a448316919bfe59e35942edc34f2b674b}{get\+\_\+html\+\_\+code} (self, url)
\begin{DoxyCompactList}\small\item\em Метод, получающий {\itshape {\bfseries html}}-\/кода страницы \end{DoxyCompactList}\item 
def \hyperlink{classUrlsReceiver_1_1UrlsReceiver_ace2cdcb9a1bb117d80ec0efad2b2374b}{get\+\_\+urls\+\_\+from\+\_\+page} (self, \hyperlink{classUrlsReceiver_1_1UrlsReceiver_af9f409bb62f37a08c7fc7eb37e07dd2a}{page\+\_\+num})
\begin{DoxyCompactList}\small\item\em Метод, собирающий ссылки с одной страницы \end{DoxyCompactList}\item 
def \hyperlink{classUrlsReceiver_1_1UrlsReceiver_a1dfd347420ffce5e3c510feb8a436d30}{make\+\_\+url} (self, url)
\begin{DoxyCompactList}\small\item\em Метод, приводящий в нормальный вид ссылку, полученную из html-\/кода страницы \end{DoxyCompactList}\item 
def \hyperlink{classUrlsReceiver_1_1UrlsReceiver_a871a6b2bc7d65cd8ea6184061f994592}{get\+\_\+max\+\_\+page\+\_\+num} (self)
\begin{DoxyCompactList}\small\item\em Метод, получающий количество страниц в реестре \end{DoxyCompactList}\item 
def \hyperlink{classUrlsReceiver_1_1UrlsReceiver_abf0eed73148dbb302da0b4a09efb4940}{parse\+\_\+reestr} (self)
\begin{DoxyCompactList}\small\item\em Главный метод \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Открытые атрибуты}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_a26ea003c345156c0e7cdeb49750b15f2}\label{classUrlsReceiver_1_1UrlsReceiver_a26ea003c345156c0e7cdeb49750b15f2}} 
\hyperlink{classUrlsReceiver_1_1UrlsReceiver_a26ea003c345156c0e7cdeb49750b15f2}{main\+\_\+url}
\begin{DoxyCompactList}\small\item\em Ссылка, которой инициализируется класс \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_a4a9800032de527abd7fbc8dfed704d53}\label{classUrlsReceiver_1_1UrlsReceiver_a4a9800032de527abd7fbc8dfed704d53}} 
\hyperlink{classUrlsReceiver_1_1UrlsReceiver_a4a9800032de527abd7fbc8dfed704d53}{html\+\_\+code}
\begin{DoxyCompactList}\small\item\em Текст, обрабатываемой страницы \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_aa118829b177026eba1f6701b7178fbfb}\label{classUrlsReceiver_1_1UrlsReceiver_aa118829b177026eba1f6701b7178fbfb}} 
\hyperlink{classUrlsReceiver_1_1UrlsReceiver_aa118829b177026eba1f6701b7178fbfb}{urls}
\begin{DoxyCompactList}\small\item\em Массив ссылок с одной страницы реестра \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_af9f409bb62f37a08c7fc7eb37e07dd2a}\label{classUrlsReceiver_1_1UrlsReceiver_af9f409bb62f37a08c7fc7eb37e07dd2a}} 
\hyperlink{classUrlsReceiver_1_1UrlsReceiver_af9f409bb62f37a08c7fc7eb37e07dd2a}{page\+\_\+num}
\begin{DoxyCompactList}\small\item\em Количество страниц в реестре \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_ad10c955c9e74df17b8f5f9cc6a80a5e7}\label{classUrlsReceiver_1_1UrlsReceiver_ad10c955c9e74df17b8f5f9cc6a80a5e7}} 
\hyperlink{classUrlsReceiver_1_1UrlsReceiver_ad10c955c9e74df17b8f5f9cc6a80a5e7}{context}
\begin{DoxyCompactList}\small\item\em Переменная, для запросов к страницам \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Подробное описание}
Получатель списка ссылок 

Класс, с помощью которого можно получить список ссылок на все российские прораммы для ЭВМ и БД из единого реестра {\itshape {\bfseries \href{https://reestr.minsvyaz.ru/reestr/}{\tt https\+://reestr.\+minsvyaz.\+ru/reestr/}}} 

\subsection{Конструктор(ы)}
\mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_ae4ba1b935dce3bd30912583beca32aff}\label{classUrlsReceiver_1_1UrlsReceiver_ae4ba1b935dce3bd30912583beca32aff}} 
\index{Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def Urls\+Receiver.\+Urls\+Receiver.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{main\+\_\+url }\end{DoxyParamCaption})}



Конструктор 


\begin{DoxyParams}{Аргументы}
{\em self} & \\
\hline
{\em main\+\_\+url} & Ссылка на первую страницу реестра, с которой потом будет осуществляться переход на остальные страницы \\
\hline
\end{DoxyParams}


\subsection{Методы}
\mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_a448316919bfe59e35942edc34f2b674b}\label{classUrlsReceiver_1_1UrlsReceiver_a448316919bfe59e35942edc34f2b674b}} 
\index{Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}!get\+\_\+html\+\_\+code@{get\+\_\+html\+\_\+code}}
\index{get\+\_\+html\+\_\+code@{get\+\_\+html\+\_\+code}!Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}}
\subsubsection{\texorpdfstring{get\+\_\+html\+\_\+code()}{get\_html\_code()}}
{\footnotesize\ttfamily def Urls\+Receiver.\+Urls\+Receiver.\+get\+\_\+html\+\_\+code (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{url }\end{DoxyParamCaption})}



Метод, получающий {\itshape {\bfseries html}}-\/кода страницы 


\begin{DoxyParams}{Аргументы}
{\em self} & \\
\hline
{\em url} & Ссылка на страницу, html-\/код которой необходимо получить\\
\hline
\end{DoxyParams}
html-\/код страницы получается с помощью библиотеки {\itshape {\bfseries urllib.\+request}}. Далее он записывается в поле {\itshape {\bfseries self.\+html\+\_\+code}}. \mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_a871a6b2bc7d65cd8ea6184061f994592}\label{classUrlsReceiver_1_1UrlsReceiver_a871a6b2bc7d65cd8ea6184061f994592}} 
\index{Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}!get\+\_\+max\+\_\+page\+\_\+num@{get\+\_\+max\+\_\+page\+\_\+num}}
\index{get\+\_\+max\+\_\+page\+\_\+num@{get\+\_\+max\+\_\+page\+\_\+num}!Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}}
\subsubsection{\texorpdfstring{get\+\_\+max\+\_\+page\+\_\+num()}{get\_max\_page\_num()}}
{\footnotesize\ttfamily def Urls\+Receiver.\+Urls\+Receiver.\+get\+\_\+max\+\_\+page\+\_\+num (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Метод, получающий количество страниц в реестре 

В переменную {\itshape {\bfseries self.\+page\+\_\+num}} записывается число страниц в реестре с ссылками на ПО \mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_ace2cdcb9a1bb117d80ec0efad2b2374b}\label{classUrlsReceiver_1_1UrlsReceiver_ace2cdcb9a1bb117d80ec0efad2b2374b}} 
\index{Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}!get\+\_\+urls\+\_\+from\+\_\+page@{get\+\_\+urls\+\_\+from\+\_\+page}}
\index{get\+\_\+urls\+\_\+from\+\_\+page@{get\+\_\+urls\+\_\+from\+\_\+page}!Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}}
\subsubsection{\texorpdfstring{get\+\_\+urls\+\_\+from\+\_\+page()}{get\_urls\_from\_page()}}
{\footnotesize\ttfamily def Urls\+Receiver.\+Urls\+Receiver.\+get\+\_\+urls\+\_\+from\+\_\+page (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{page\+\_\+num }\end{DoxyParamCaption})}



Метод, собирающий ссылки с одной страницы 


\begin{DoxyParams}{Аргументы}
{\em self} & \\
\hline
{\em page\+\_\+num} & Номер страницы реестра, с которой получается список ссылок\\
\hline
\end{DoxyParams}
Внутри метода составлено регулярное выражение, по которому выбираются все ссылки в html-\/коде страницы, после чего записываются в файл {\itshape {\bfseries urls.\+txt}}. После обработки очередной страницы в стандартный вывод пишется ее номер. \mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_a1dfd347420ffce5e3c510feb8a436d30}\label{classUrlsReceiver_1_1UrlsReceiver_a1dfd347420ffce5e3c510feb8a436d30}} 
\index{Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}!make\+\_\+url@{make\+\_\+url}}
\index{make\+\_\+url@{make\+\_\+url}!Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}}
\subsubsection{\texorpdfstring{make\+\_\+url()}{make\_url()}}
{\footnotesize\ttfamily def Urls\+Receiver.\+Urls\+Receiver.\+make\+\_\+url (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{url }\end{DoxyParamCaption})}



Метод, приводящий в нормальный вид ссылку, полученную из html-\/кода страницы 


\begin{DoxyParams}{Аргументы}
{\em url} & Строка вида {\itshape {\bfseries /reestr/123456/}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
Ссылку вида {\itshape {\bfseries \href{https://reestr.minsvyaz.ru/reestr/123456}{\tt https\+://reestr.\+minsvyaz.\+ru/reestr/123456}}} 
\end{DoxyReturn}
\mbox{\Hypertarget{classUrlsReceiver_1_1UrlsReceiver_abf0eed73148dbb302da0b4a09efb4940}\label{classUrlsReceiver_1_1UrlsReceiver_abf0eed73148dbb302da0b4a09efb4940}} 
\index{Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}!parse\+\_\+reestr@{parse\+\_\+reestr}}
\index{parse\+\_\+reestr@{parse\+\_\+reestr}!Urls\+Receiver\+::\+Urls\+Receiver@{Urls\+Receiver\+::\+Urls\+Receiver}}
\subsubsection{\texorpdfstring{parse\+\_\+reestr()}{parse\_reestr()}}
{\footnotesize\ttfamily def Urls\+Receiver.\+Urls\+Receiver.\+parse\+\_\+reestr (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Главный метод 

Метод, после запуска которого последовательно обходятся все страницы с ссылками реестра, с которых в файл {\itshape {\bfseries urls.\+txt}} записываются ссылки на продукты, каждую из которых впоследствии надо будет обработать и составить {\itshape {\bfseries .csv}}-\/файл 

Объявления и описания членов класса находятся в файле\+:\begin{DoxyCompactItemize}
\item 
Urls\+Receiver.\+py\end{DoxyCompactItemize}
